{% extends "base.html" %} {% block content %}
<div class="space-y-8">
  <section class="panel">
    <h2 class="panel-title text-slate-900">Modelo Económico Abierto</h2>
    <p class="text-slate-600 text-sm mb-4 max-w-3xl">
      Determina la producción necesaria para satisfacer una demanda externa.
      <br />
      Ecuación: <strong>(I - A)x = d</strong>
    </p>

    <div class="flex items-end gap-4">
      <label class="block">
        <span class="lbl">Sectores</span>
        <input
          id="inp-sectores"
          type="number"
          min="2"
          max="10"
          value="3"
          class="input w-24 font-bold"
        />
      </label>
      <button id="btn-generar" class="btn-primary">Crear Tabla</button>
    </div>
  </section>

  <section id="zona-tabla" class="panel hidden">
    <div class="flex justify-between items-center mb-4">
      <h3 class="text-lg font-bold text-slate-800">
        Matriz de Consumo y Demanda
      </h3>

      <label class="inline-flex items-center cursor-pointer">
        <span class="mr-3 text-sm font-medium text-slate-600"
          >Resultados en decimales</span
        >
        <input
          type="checkbox"
          id="check-decimales"
          class="sr-only peer"
          checked
        />
        <div
          class="relative w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-rose-600"
        ></div>
      </label>
    </div>

    <div
      class="overflow-x-auto rounded-xl border border-slate-200 shadow-sm mb-6"
    >
      <table id="tabla-abierto" class="matrix-table w-full"></table>
    </div>

    <div class="flex justify-end gap-3">
      <button
        id="btn-resolver"
        class="btn-accent px-8 py-2 text-base shadow-lg"
      >
        Calcular Producción Total
      </button>
    </div>
  </section>

  <section
    id="zona-resultado"
    class="panel hidden border-l-4 border-l-blue-500 bg-slate-50"
  >
    <h3 class="text-xl font-bold text-slate-900 mb-4">Producción Requerida</h3>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <div
        class="bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden"
      >
        <table class="w-full text-left text-sm">
          <thead
            class="bg-slate-100 text-slate-700 font-semibold border-b border-slate-200"
          >
            <tr>
              <th class="px-4 py-3">Departamento</th>
              <th class="px-4 py-3 text-right">Producción Total</th>
            </tr>
          </thead>
          <tbody
            id="tabla-resultados-body"
            class="divide-y divide-slate-100"
          ></tbody>
        </table>
      </div>

      <div class="flex flex-col justify-center text-sm text-slate-600 p-2">
        <p class="mb-2 font-semibold text-slate-800">Interpretación:</p>
        <p class="mb-2">
          Los valores calculados son los niveles de producción bruta que cada
          sector debe alcanzar para satisfacer la demanda.
        </p>
      </div>
    </div>
  </section>
</div>
{% endblock %} {% block extra_js %}
<script src="{{ url_for('static', filename='js/economia_abierto.js') }}"></script>
{% endblock %}
